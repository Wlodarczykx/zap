var blocksize=40,fieldwidth=640,fieldheight=480,directions=[],gamecanvas=document.getElementById("game");function drawBlock(e,n,o){o=o||"green";const i=gamecanvas.getContext("2d");i.beginPath(),i.rect(e,n,blocksize,blocksize),i.fillStyle=o,i.fill()}function drawClear(){gamecanvas.getContext("2d").clearRect(0,0,gamecanvas.width,gamecanvas.height)}function draw(e){for(var n in drawClear(),null!==e.apple&&drawBlock(e.apple.x,e.apple.y,e.apple.color),e.snake.body)drawBlock(e.snake.body[n].x,e.snake.body[n].y);drawBlock(e.snake.x,e.snake.y,"#004D00"),document.getElementById("score").innerHTML=e.game.score}function onGameOver(e){alert("Game Over! Score: "+e.score),snake.reset()}function hookControls(){directions[37]="left",directions[38]="up",directions[39]="right",directions[40]="down",document.addEventListener("keydown",(function(e){32===e.keyCode&&toggle(),void 0!==directions[e.keyCode]&&snake.setSnakeDirection(directions[e.keyCode])})),swipes.hook("swipedleft",(function(){snake.setSnakeDirection("left")})),swipes.hook("swipedright",(function(){snake.setSnakeDirection("right")})),swipes.hook("swipedup",(function(){snake.setSnakeDirection("up")})),swipes.hook("swipeddown",(function(){snake.setSnakeDirection("down")})),swipes.init(document)}function load(){snake.hook("cycle",draw),snake.hook("gameover",onGameOver),gamecanvas.width=fieldwidth,gamecanvas.height=fieldheight,hookControls(),snake.init()}